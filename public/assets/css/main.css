:root {
  --bg: #2a2a2a; /* requested uniform background */
  --bg-alt: #2a2a2a;
  --surface: #333;
  --border: #3b3b3b;
  --text: #f2f2f2;
  --text-dim: #b5b5b5;
  --accent: #4aa3ff;
  --radius-sm: 4px;
  --radius-md: 10px;
  --transition: 140ms cubic-bezier(.4,.0,.2,1);
}

[data-theme="light"] {
  --bg: #f8f9fa;
  --bg-alt: #ffffff;
  --surface: #ffffff;
  --border: #dee2e6;
  --text: #212529;
  --text-dim: #555;
  --accent: #0d6efd;
}

html, body, #app { height: 100%; }
body { background: var(--bg); color: var(--text); font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; font-size: 200%; line-height:1.3; }

.app-shell { width: 100%; }
.app-sidebar { width: 280px; background: var(--surface); overflow-y: auto; border:none; }
.app-sidebar h1 { letter-spacing: .5px; }
.app-header { backdrop-filter: blur(8px); background: rgba(20,20,20,.75); }
[data-theme="light"] .app-header { background: rgba(255,255,255,.85); }

#gridContainer { background: var(--bg); }
.virtual-grid { position: relative; padding: 1rem; }
.vg-item { will-change: transform; }

.asset-card { position:relative; background:transparent; border:none; padding:4px; display:block; cursor:pointer; }
.asset-card:focus-visible { outline:2px solid var(--accent); outline-offset:2px; }
.asset-thumb-wrapper { aspect-ratio:1/1; background:#2a2a2a; position:relative; border-radius:10px; overflow:hidden; }
.asset-thumb-wrapper img { width:102%; height:102%; object-fit:contain; display:block; background:#2a2a2a; position:absolute; top:-1%; left:-1%; }
/* Hover / keyboard focus outline without shadow */
.asset-card:hover .asset-thumb-wrapper, .asset-card:focus-visible .asset-thumb-wrapper { outline:2px solid var(--accent); outline-offset:0; box-shadow:none; }
/* Thumbnail size buttons */
.ts-btn { background:#3a3a3a; color:#d0d0d0; font-size:.8rem; font-weight:600; letter-spacing:.5px; padding:.6rem 1.1rem; border:1px solid #4a4a4a; cursor:pointer; transition:background var(--transition), color var(--transition); }
.ts-btn + .ts-btn { border-left:none; }
.ts-btn:first-child { border-top-left-radius:6px; border-bottom-left-radius:6px; }
.ts-btn:last-child { border-top-right-radius:6px; border-bottom-right-radius:6px; }
.ts-btn:hover { background:#454545; }
.ts-btn.active { background:var(--accent); color:#111; border-color:var(--accent); }

/* Accessible focus style for size buttons */
.ts-btn:focus-visible { outline:2px solid var(--accent); outline-offset:2px; }
/* Remove name & tags display under thumbnails in new design */
.asset-name, .asset-tags { display:none !important; }

.skeleton { background: linear-gradient(90deg,#303030,#383838,#303030); background-size:200% 100%; animation: shimmer 1.1s ease-in-out infinite; }
@keyframes shimmer { 0% { background-position: 0 0; } 100% { background-position: -200% 0; } }

.detail-drawer { position: fixed; top:0; right:-520px; width:520px; height:100%; background:rgba(15,24,36,.9); backdrop-filter:blur(14px) saturate(150%); border-left:1px solid rgba(255,255,255,.08); transition: right var(--transition); z-index:100; display:flex; flex-direction:column; box-shadow:-8px 0 32px -8px rgba(0,0,0,.6); }
.detail-drawer.open { right:0; }
.detail-body h3 { font-size: .9rem; margin-top:1rem; }

/* Settings Panel */
.settings-panel { position: fixed; inset:0; background: rgba(0,0,0,.55); backdrop-filter: blur(4px); display:flex; align-items:flex-start; justify-content:center; padding:4rem 1rem 2rem; z-index:200; }
.settings-panel.hidden { display:none; }
.settings-dialog { background: var(--surface); border:1px solid var(--border); border-radius: var(--radius-md); padding:1rem 1.25rem 1.25rem; width:100%; max-width:520px; box-shadow:0 10px 32px -8px rgba(0,0,0,.6); }

.hidden { display: none !important; }

@media (max-width: 900px) { .app-sidebar { position: fixed; left:-300px; top:0; bottom:0; z-index:110; transition: left var(--transition); } .app-sidebar.open { left:0; } }

/* Quick filter chips */
.qf-chip { font-size:.65rem; letter-spacing:.4px; text-transform:uppercase; background:#3a3a3a; color:#e0e0e0; padding:.5rem .9rem .55rem; border:1px solid #4a4a4a; border-right:none; display:inline-flex; align-items:center; cursor:pointer; }
.qf-chip:first-child { border-top-left-radius:6px; border-bottom-left-radius:6px; }
.qf-chip:last-child { border-right:1px solid #4a4a4a; border-top-right-radius:6px; border-bottom-right-radius:6px; }
.qf-chip:hover { background:#444; }
.qf-chip.active { background:var(--accent); color:#111; border-color:var(--accent); }

/* Sidebar form control adjustments for readability */
.app-sidebar input[type=text], .app-sidebar select { font-size:.7rem; background:#3a3a3a; border:none; color:#fff; box-shadow:0 0 0 1px #4a4a4a inset; height:2.1rem; }
.app-sidebar select { padding-left:.4rem; }
.app-sidebar input[type=text]:focus, .app-sidebar select:focus { outline:2px solid var(--accent); box-shadow:none; }

label, .form-label { font-size:.45rem; }
#statusBar { font-size:.55rem; }

/* Smaller checkboxes */
.app-sidebar .form-check-input { width:.75rem; height:.75rem; margin-top:.15rem; }
.app-sidebar .form-check-label { font-size:.55rem; line-height:1.1; }

/* Remove drawer border */
.detail-drawer { border-left:none !important; }

/* Scrollbar subtle styling */
::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:rgba(255,255,255,.08); border-radius:20px; border:2px solid transparent; background-clip:padding-box; }
::-webkit-scrollbar-thumb:hover { background:rgba(255,255,255,.15); border:2px solid transparent; }
